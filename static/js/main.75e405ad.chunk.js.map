{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","images/logo.svg","components/Header.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/login.svg","images/loginErr.svg","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","src","link","alt","name","onClick","type","aria-label","length","Header","loggedIn","loginText","login","logo","to","Main","loginData","onSignOut","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","ImagePopup","onClose","PopupWithForm","title","button","children","isOpen","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","id","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","setLink","InfoTooltip","isRequestSuccessful","loginErr","Register","onRegister","onInfoTooltip","email","password","data","setData","handleChangeData","Login","onLogin","ProtectedRoute","Component","component","props","api","baseUrl","headers","this","fetch","then","res","ok","json","Promise","reject","status","item","method","body","JSON","stringify","userAvatar","idCard","putLike","deleteLike","authorization","BASE_URL","chekResponse","response","getContent","token","catch","err","console","log","withRouter","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setRequestSuccessful","selectedCard","setSelectedCard","closeAllPopups","setCurrentUser","getUserData","userData","setCards","getInitialCards","cardData","setLoggedIn","history","useHistory","push","setLoginData","jwt","localStorage","getItem","Provider","exact","path","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","removeItem","register","statusCode","Error","authorize","setItem","patchUserAvatar","patchUserData","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75e405ad.chunk.js","sourcesContent":["import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nexport default function Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n    function handleClick() {\n        onCardClick(card);\n      }  \n\n    function handleLikeClick() {\n        onCardLike(card)\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card)\n        \n    }\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = card.owner._id === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n        `elements__delete-button ${isOwn ? 'elements__delete-button_visible' : 'elements__delete-button_hidden'}`\n      ); \n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardLikeButtonClassName = (\n        `elements__like-button ${isLiked ? 'elements__like-button_active' : null}`\n        ); \n\n    return (\n        <li className=\"elements__card\">\n            <img className=\"elements__image\" src={card.link} alt={card.name} onClick={handleClick}/>\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n            <div className=\"elements__info\">\n                <h2 className=\"elements__text\">{card.name}</h2>\n                <div className=\"elements__like\">\n                    <button type=\"button\" className={cardLikeButtonClassName} aria-label='Лайк' onClick={handleLikeClick}></button>\n                    <p className=\"elements__like-counter\">{card.likes.length}</p>\n                </div> \n            </div>\n        </li>\n    )\n}","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from '../images/logo.svg';\nimport { Link } from 'react-router-dom';\n\nfunction Header({ loggedIn, loginText, onClick, link, login }) {\n    return (\n        <header className=\"header\">\n            <img src={logo} alt=\"Лого\" className=\"header__logo\"/>\n            <div className=\"header__container\">\n                <p className=\"header__email\">{login}</p>\n                <Link to={link} className={`${loggedIn ? \"header__link_singout\" : \"\"} header__link`} onClick={onClick}>{loginText}</Link>\n            </div>\n        </header>\n    )\n}\nexport default Header\n","import React from 'react';\nimport Card from './Card.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport Header from '../components/Header.js';\n\nfunction Main({ loginData, loggedIn, onSignOut, onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <>\n            <Header loggedIn={loggedIn} login={loginData} link=\"/sign-in\" onClick={onSignOut} loginText={'Выйти'}/>\n            <main>\n                <section className=\"profile\">\n                    <div className=\"profile__avatar-containter\">\n                        <img alt={currentUser.name} className=\"profile__avatar\" src={currentUser.avatar} />\n                        <button type=\"button\" className=\"profile__avatar-edit-button\" onClick={onEditAvatar}></button>\n                    </div>\n                    \n                    <div className=\" profile__columns\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" aria-label=\"Редактировать\" onClick={onEditProfile}></button>\n                        <p className=\"profile__job\">{currentUser.about}</p>\n                    </div>\n                    <button type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить\" onClick={onAddPlace}></button>\n                </section>\n                <section className=\"elements\">\n                    <ul className=\"elements__list\">\n                        {cards.map((card) => (\n                            <Card   key={card._id} \n                                    card={card} \n                                    onCardClick={onCardClick} \n                                    onCardLike={onCardLike} \n                                    onCardDelete={onCardDelete}/>\n                        ))}\n                    </ul>\n                </section>\n            </main>\n        </ >\n        )\n}\n\nexport default Main","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer","export default function ImagePopup({card, onClose}) {\n    if (!card){\n        return null\n      }\n\n    return (\n        <section className={`${card ? \"popup_opened\" : \"\"} popup popup_photo`}>\n            <div className=\"popup__container popup__container_photo\">\n            <button className=\"popup__close-button popup__close-button_photo\" aria-label=\"Закрыть\" onClick={onClose}></button>\n                <img className=\"popup__img\" alt={card.name} src={card.link}/>\n                <p className=\"popup__caption\">{card.name}</p>\n            </div>\n        </section>\n    )\n}","function PopupWithForm({ title, name, button, children, isOpen, onClose, onSubmit }) {\n    \n    return (\n        <section className={`${isOpen ? \"popup_opened\" : \"\"} popup popup_${name}`}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className={`popup__form popup__form_${name}`} onSubmit={onSubmit}>\n                    <h3 className=\"popup__title\">{title}</h3>\n                    {children}\n                    <button type=\"submit\" className=\"popup__save-button\">{button}</button>\n                </form>\n            </div>\n        </section>\n    )\n}\n\nexport default PopupWithForm","import React from 'react';\nimport PopupWithForm from '../components/PopupWithForm.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n    const [name, setName] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n      }\n\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n      }\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n      if (currentUser) {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }\n    }, [currentUser]); \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n          name,\n          about: description,\n        });\n      } \n\n    return (\n        <PopupWithForm  isOpen={isOpen}\n                        onClose={onClose}\n                        onSubmit={handleSubmit}\n                        title=\"Редактировать профиль\"\n                        name=\"edit\"\n                        button=\"Сохранить\">\n            <label className=\"popup__field popup__field_first\">\n                <input  value={name} onChange={handleChangeName}\n                        type=\"text\" \n                        name=\"name\" \n                        className=\"popup__input popup__input_type_name\" \n                        id=\"name-input\" \n                        required \n                        minLength=\"2\"\n                        maxLength=\"40\"/>\n                <span className=\"popup__error\" id=\"name-input-error\"></span>\n            </label>\n            <label className=\"popup__field\">\n                <input  value={description} onChange={handleChangeDescription}\n                        type=\"text\" \n                        name=\"about\" \n                        className=\"popup__input popup__input_type_job\" \n                        id=\"job-input\" \n                        required \n                        minLength=\"2\" \n                        maxLength=\"200\"/>\n                <span className=\"popup__error\" id=\"job-input-error\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}","import React from 'react';\nimport PopupWithForm from '../components/PopupWithForm.js';\n\nexport default function EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        onUpdateAvatar({\n          avatar: avatarRef.current.value,\n        });\n        avatarRef.current.value = ''\n      } \n\n    return (\n        <PopupWithForm  isOpen={isOpen}\n                        onClose={onClose}\n                        onSubmit={handleSubmit}\n                        title=\"Обновить аватар\"\n                        name=\"edit-avatar\"\n                        button=\"Сохранить\">\n            <input  ref={avatarRef}\n                    type=\"url\" \n                    name=\"avatar\" \n                    placeholder=\"Ссылка на картинку\" \n                    className=\"popup__input popup__input_type_img\" \n                    id=\"img-input\" \n                    required/>\n            <span className=\"popup__error\" id=\"img-input-error\"></span>\n        </PopupWithForm>\n    )\n} ","import React from 'react';\nimport PopupWithForm from '../components/PopupWithForm.js';\n\nexport default function AddPlacePopup({isOpen, onClose, onAddPlace}) {\n    \n    const [name, setName] = React.useState();\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n      }\n\n    const [link, setLink] = React.useState();\n\n    function handleChangeLink(e) {\n        setLink(e.target.value);\n      }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAddPlace({\n          name,\n          link,\n        });\n        \n        setName('')\n        setLink('')\n    }\n\n    return (\n        <PopupWithForm  isOpen={isOpen}\n                        onClose={onClose}\n                        onSubmit={handleSubmit}\n                        title=\"Новое место\"\n                        name=\"place\"\n                        button=\"Создать\">\n            <label className=\"popup__field popup__field_first\">\n                <input  value={name} onChange={handleChangeName}\n                        type=\"text\" \n                        name=\"name\" \n                        placeholder=\"Название\" \n                        className=\"popup__input popup__input_type_place\" \n                        id=\"place-input\" \n                        required \n                        minLength=\"2\" \n                        maxLength=\"30\"/>\n                <span className=\"popup__error\" id=\"place-input-error\"></span>\n            </label>\n            <label className=\"popup__field\">\n                <input  value={link} onChange={handleChangeLink}\n                        type=\"url\" \n                        name=\"link\" \n                        placeholder=\"Ссылка на картинку\" \n                        className=\"popup__input popup__input_type_img\"          \n                        id=\"img-input\" \n                        required/>\n                <span className=\"popup__error\" id=\"img-input-error\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}","export default __webpack_public_path__ + \"static/media/login.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/loginErr.df8eddf6.svg\";","import login from \"../images/login.svg\";\nimport loginErr from \"../images/loginErr.svg\";\n\nexport default function InfoTooltip({ isOpen, onClose, isRequestSuccessful }) {\n    return (\n        <section className={`${isOpen ? \"popup_opened\" : \"\"} popup`}>\n            <div className=\"popup__container popup__container_login\">\n            <button className=\"popup__close-button popup__close-button_infotool\" aria-label=\"Закрыть\" onClick={onClose}></button>\n                <img className=\"popup__login-img\" alt=\"info\" src={`${isRequestSuccessful ? login : loginErr}`}/>\n                <p className=\"popup__login-text\">{`${isRequestSuccessful ? \"Вы успешно зарегестрированы\" : \"Что-то пошло не так. Попробуйте ещё раз\"}`}</p>\n            </div>\n        </section>\n    )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header.js';\n\nfunction Register({ onRegister, onInfoTooltip }) {\n    const [data, setData] = React.useState({\n        email: '',\n        password: '',\n    });\n\n    function handleChangeData(e) {\n        const {name, value} = e.target\n        setData({\n            ...data,\n            [name]: value,\n        });\n      }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onRegister(data)\n    }\n\n    return (\n        <>\n            <Header loginText={'Войти'} link=\"/sign-in\"/>\n            <section className=\"form\">\n                <form onSubmit={handleSubmit} className=\"form__container form__containe_type_register\">\n                    <h3 className=\"form__title\">Регистрация</h3>\n                    <label className=\"form__field\">\n                    <input  value={data.email} onChange={handleChangeData}\n                            placeholder=\"Email\"\n                            type=\"email\" \n                            name=\"email\" \n                            className=\"form__input form__input_type_register\" \n                            id=\"email\" \n                            required \n                            minLength=\"2\"\n                            maxLength=\"40\"/>\n                    <span className=\"form__error\" id=\"email-error\"></span>\n                    </label>\n                    <label className=\"form__field\">\n                    <input  value={data.password} onChange={handleChangeData}\n                            placeholder=\"Пароль\"\n                            type=\"text\" \n                            name=\"password\" \n                            className=\"form__input form__input_type_password\" \n                            id=\"password\" \n                            required \n                            minLength=\"2\" \n                            maxLength=\"200\"/>\n                    <span className=\"form__error\" id=\"password-error\"></span>\n                    </label>\n                    <button type=\"submit\" className=\"form__save-button\" onClick={onInfoTooltip}>Зарегистрироваться</button>\n                    <Link to=\"/sign-in\" className=\"form__sing-in-text\" >Уже зарегистрированы? Войти</Link> \n                </form>\n            </section>\n        </ >\n    )\n}\n\nexport default Register","import React from 'react';\nimport Header from '../components/Header.js';\n\nfunction Login({ onLogin }) {\n    const [data, setData] = React.useState({\n        email: '',\n        password: '',\n    });\n\n    function handleChangeData(e) {\n        const {name, value} = e.target\n        setData({\n            ...data,\n            [name]: value,\n        });\n      }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onLogin(data)\n    }\n\n    return (\n        <>\n        <Header loginText={'Регистрация'} link=\"/sign-up\"/>\n        <section className=\"form\">\n            <form onSubmit={handleSubmit} className=\"form__container form__containe_type_register\">\n                <h3 className=\"form__title\">Вход</h3>\n                <label className=\"form__field\">\n                <input  value={data.email} onChange={handleChangeData}\n                        placeholder=\"Email\"\n                        type=\"email\" \n                        name=\"email\" \n                        className=\"form__input form__input_type_register\" \n                        id=\"email\" \n                        required \n                        minLength=\"2\"\n                        maxLength=\"40\"/>\n                <span className=\"form__error\" id=\"email-error\"></span>\n                </label>\n                <label className=\"form__field\">\n                <input  value={data.password} onChange={handleChangeData}\n                        placeholder=\"Пароль\"\n                        type=\"text\" \n                        name=\"password\" \n                        className=\"form__input form__input_type_password\" \n                        id=\"password\" \n                        required \n                        minLength=\"2\" \n                        maxLength=\"200\"/>\n                <span className=\"form__error\" id=\"password-error\"></span>\n                </label>\n                <button type=\"submit\" className=\"form__save-button\">Войти</button>\n            </form>\n        </section>\n        </ >\n    )\n}\n\nexport default Login\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute; ","class Api {\n    constructor({baseUrl, headers},) {\n        this.headers = headers;\n        this.baseUrl = baseUrl;\n    }\n  \n    getInitialCards() {\n        return fetch(`${this.baseUrl}/cards`, {\n            headers: this.headers\n        })\n          .then(res => {\n            if (res.ok) {\n              return res.json();\n            }\n      \n            return Promise.reject(`Ошибка: ${res.status}`);\n          })\n\n\n    } \n    \n    getUserData() {\n        return fetch (`${this.baseUrl}/users/me`, {\n            headers: this.headers\n        })\n\n        .then(res => {\n            if (res.ok) {\n              return res.json();\n            } else {\n                return Promise.reject(`Ошибка: ${res.status}`);\n            }\n        })\n\n    }\n\n    patchUserData(item) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n                name: item.name,\n                about: item.about\n           })\n\n        })\n        .then(res => {\n            if (res.ok) {\n              return res.json();\n            } else {\n                return Promise.reject(`Ошибка: ${res.status}`);\n            }\n        })\n        .then((res) => {\n            return res;\n        })\n    }\n\n    postCard(item) {\n        return fetch(`${this.baseUrl}/cards`, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify({\n                name: item.name,\n                link: item.link\n           })\n        })   \n        .then(res => {\n            if (res.ok) {\n              return res.json();\n            }\n      \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n        .then((res) => {\n            return res;\n        })\n\n    }\n\n    \n    patchUserAvatar(userAvatar) {\n        return fetch(`${this.baseUrl}/users/me/avatar `, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify(userAvatar)\n        })\n        .then(res => {\n            if (res.ok) {\n              return res.json();\n            } \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    deleteCard(idCard) {\n        return fetch(`${this.baseUrl}/cards/${idCard}`, {\n            method: 'DELETE',\n            headers: this.headers,\n            body: JSON.stringify({\n                _id: idCard,\n           })\n        })   \n        .then(res => {\n            if (res.ok) {\n              return res.json();\n            }\n      \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    putLike(idCard) {\n        return fetch(`${this.baseUrl}/cards/likes/${idCard}`, {\n            method: 'PUT',\n            headers: this.headers,\n            body: JSON.stringify({\n                _id: idCard,\n           })\n        })   \n        .then(res => {\n            if (res.ok) {\n              return res.json();\n            }\n      \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    deleteLike(idCard) {\n        return fetch(`${this.baseUrl}/cards/likes/${idCard}`, {\n            method: 'DELETE',\n            headers: this.headers,\n            body: JSON.stringify({\n                _id: idCard,\n           })\n        })   \n        .then(res => {\n            if (res.ok) {\n              return res.json();\n            }\n      \n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    changeLikeCardStatus(idCard, isLiked) {\n        return !isLiked ? this.deleteLike(idCard) : this.putLike(idCard)\n    }\n\n}\n  \nexport const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\n    headers: {\n      authorization: 'eae790ac-cf24-4380-ba85-8ea4c48ccac5',\n      'Content-Type': 'application/json'\n    }\n  })\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst chekResponse = (response) => response.ok ? response.json() : Promise.reject('Ошибка');\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password })\n    })\n    .then(chekResponse)\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password })\n    })\n    .then(chekResponse)\n    .catch((err) => {\n        console.log(err)\n    })\n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: \"GET\",\n      headers: {\n        'Accept': 'application/json',\n        \"Content-Type\": \"application/json\",\n        'authorization': `Bearer ${token}`,\n      },\n    })\n    .then(chekResponse)\n    .catch((err) => {\n        console.log(err)\n    })\n  };\n  ","import React, { useEffect, useState } from 'react';\nimport { Route, Switch, Redirect, useHistory, withRouter } from 'react-router-dom';\nimport '../index.css';\nimport Main from '../components/Main.js';\nimport Footer from '../components/Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from './ProtectedRoute'; \nimport { api } from '../utils/api';\nimport { register, authorize, getContent } from '../utils/auth';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n    \n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n\n    function onEditProfile() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\n    function onAddPlace() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\n    function onEditAvatar() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n    function onInfoTooltip() {\n        setIsInfoTooltipOpen(true);\n    }\n\n    const [isRequestSuccessful, setRequestSuccessful] = useState(false);\n\n    function closeInfoTooltip() {\n        setIsInfoTooltipOpen(false);\n        if (isRequestSuccessful) {\n            history.push('/sing-in');\n        }\n    }\n\n    const [selectedCard, setSelectedCard] = useState(null);\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false)\n        setIsAddPlacePopupOpen(false)\n        setIsEditAvatarPopupOpen(false)\n        setSelectedCard(null)\n    }\n    \n    const [currentUser, setCurrentUser] = useState('');\n\n    useEffect(() => { \n        api.getUserData() \n            .then((userData) => { \n                setCurrentUser(userData) \n            }) \n            .catch(err => { \n                console.log(err) \n            }) \n    }, []) \n\n    function handleUpdateUser(data) {\n        api.patchUserData(data)\n            .then((userData) => {\n                setCurrentUser(userData);\n                closeAllPopups();\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n    function handleUpdateAvatar(userAvatar) {\n        api.patchUserAvatar(userAvatar)\n            .then((userData) => {\n                setCurrentUser(userData);\n                closeAllPopups();\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n    const [cards, setCards] = useState([]);\n\n    useEffect(() => {\n        api.getInitialCards()\n            .then((cardData) => {\n                setCards(cardData)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }, [])\n\n    function handleCardLike(card) {\n        \n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                const newCards = cards.filter((c) => c._id !== card._id);\n                setCards(newCards);\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n    function handleAddPlaceSubmit(data) {\n        api.postCard(data)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n    const [loggedIn, setLoggedIn] = useState(false);\n\n    const history = useHistory();\n\n    useEffect(() => {\n        if (loggedIn) {\n            history.push('/');\n        }\n    }, [history, loggedIn])\n\n    const handleRegister = (data) => {\n        const { email, password } = data;\n        return register(email, password)\n            .then((res) => {\n                if (!res || res.statusCode === 400) {\n                    throw new Error('Что-то не так с регистрацией');\n                }\n                if (res.data) {\n                    setRequestSuccessful(true);\n                }\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n    const handleLogin = (data) => {\n        const { email, password } = data;\n        return authorize(email, password)\n            .then((res) => {\n                if (!res || res.statusCode === 401) {\n                    setIsInfoTooltipOpen(true)\n                    throw new Error('Пользователь не зарегесрирован');\n                }\n                if (!res || res.statusCode === 400) {\n                    setIsInfoTooltipOpen(true)\n                    throw new Error('Не передано одно из полей ');\n                }\n                if (res.token) {\n                    setLoggedIn(true);\n                    setRequestSuccessful(true);\n                    history.push('/')\n                    localStorage.setItem('jwt', res.token);\n                    getContent(res.token)\n                        .then((res) => {\n                            if (res){\n                            setLoginData(res.data);\n                            }\n                        });\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n\n    const [loginData, setLoginData] = useState({\n        _id: '',\n        email: ''\n    })\n\n    useEffect(() => {\n        const jwt = localStorage.getItem(\"jwt\");\n        if (jwt) {\n            getContent(jwt)\n            .then((res) => {\n                if (res){\n                    setLoggedIn(true);\n                    setLoginData(res.data);\n                  }\n            })\n        }\n      }, []);\n\n    const handleSignOut = () => {\n        localStorage.removeItem('jwt');\n        setRequestSuccessful(false);\n    }\n\n\n    return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n        <Switch>\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main}\n                            onEditProfile={onEditProfile} \n                            onAddPlace={onAddPlace} \n                            onEditAvatar={onEditAvatar} \n                            onCardClick={handleCardClick}\n                            cards={cards} \n                            onCardLike={handleCardLike}\n                            onCardDelete={handleCardDelete}\n                            onSignOut={handleSignOut}\n                            loginData={loginData.email} />\n            <Route path=\"/sign-up\">\n                <Register onRegister={handleRegister} onInfoTooltip={onInfoTooltip}/>\n            </Route>\n            <Route path=\"/sign-in\">\n                <Login onLogin={handleLogin} />\n            </Route>\n            <Route>\n                {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n            </Route> \n        </Switch>\n        <Footer />\n        <EditAvatarPopup    isOpen={isEditAvatarPopupOpen} \n                            onClose={closeAllPopups} \n                            onUpdateAvatar={handleUpdateAvatar} />\n        <EditProfilePopup   isOpen={isEditProfilePopupOpen} \n                            onClose={closeAllPopups} \n                            onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup  isOpen={isAddPlacePopupOpen} \n                        onClose={closeAllPopups} \n                        onAddPlace={handleAddPlaceSubmit} />\n        <ImagePopup card={selectedCard}\n                    onClose={closeAllPopups} />\n        <InfoTooltip    isOpen={isInfoTooltipOpen} \n                        onClose={closeInfoTooltip}\n                        isRequestSuccessful={isRequestSuccessful} />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}